{% load hq_shared_tags %}
{% load i18n %}
<script type="text/javascript">
    $(function () {
        function toggle_advanced() {
            if ($("#advanced-filter-checkbox").is(":checked")) {
                $('.advanced-filter').show();
            } else {
                $('.advanced-filter').hide();
            }
        }
        toggle_advanced();
        $("#advanced-filter-checkbox").change(function() {
            toggle_advanced();
        });
    });
</script>
<fieldset>
    <legend><span data-bind="text: filterHeadingName">{% trans "Report Filters" %}</span></legend>
    {% for field in report_filters %}
        <fieldset id="fieldset_{{ field.slug }}" {% if field.advanced %}class="advanced-filter"{% endif %}>
            <div id="group_{{ field.slug }}" class="control-group">
                {{ field.field|safe }}
            </div>
        </fieldset>
    {% endfor %}
    {% if advanced_filters %}
    <fieldset>
        <div class="control-group">
            <label class="checkbox">
                <input type="checkbox" id="advanced-filter-checkbox" /> {% trans "Show Advanced Filters" %}
            </label>
        </div>
    </fieldset>
    {% endif %}
</fieldset>
<script type="text/javascript" src="{% static 'reports/javascripts/datepicker.js' %}"></script>
